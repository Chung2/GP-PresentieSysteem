<link rel="import" href="../../elements/elements.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<dom-module id="my-docenten">
  <link rel="import" type="css" href="../../styles/mainStyle.css">
  <template>

  <iron-ajax
    id="ajax_docenten"
    method="POST"
    url="/docenten/info"
    handle-as="json"
    on-response="ajax_docenten_handler">
  </iron-ajax>

  <paper-card class="holder" elevation="2">
    <brainy-table items="[[docenten]]" page-size="6" details-enabled>
      <brainy-table-column name="voornaam" filter-by="docenten.voornaam">
        <template>[[item.docenten.voornaam]]</template>
      </brainy-table-column>
      <!-- <brainy-table-column name="tussenvoegsel" filter-by="docenten.tussenvoegsel">
        <template>[[item.docenten.tussenvoegsel]]</template>
      </brainy-table-column> -->
      <!-- <brainy-table-column name="achternaam" filter-by="docenten.achternaam">
        <template>[[item.docenten.achternaam]]</template>
      </brainy-table-column> -->
      <brainy-table-column width="30px" align-right flex="0">
        <template>
          <template is="dom-if" if="[[!expanded]]">
            <iron-icon icon="icons:expand-more"></iron-icon>
          </template>
          <template is="dom-if" if="[[expanded]]">
            <iron-icon icon="icons:expand-less"></iron-icon>
          </template>
        </template>
      </brainy-table-column>
       <template is="row-detail">
         <div>
           [[item.docenten.ziek]]
         </div>
       </template>
       <div no-results>No records found</div>
    </brainy-table>
  </paper-card>

  <!-- vaadin grid wordt vervangen door brainy grid -->
  <!-- <div class="">

    <paper-card class="holder" elevation="2">
        <vaadin-grid items="[[docenten]]" visible-rows="[[docenten.length]]">
           <table>
             <colgroup>
               <col name="voornaam" resizable>
               <col name="tussenvoegsel" resizable>
               <col name="achternaam" resizable sortable sort-direction="asc">
               <col name="ziek" resizable>
             </colgroup>
           </table>
        </vaading-grid>
    </paper-card>
  </div> -->

</template>

<script>

Polymer({

  is: 'my-docenten',

  ajax_docenten_start: function(){
    this.$.ajax_docenten.contentType="application/json";
    this.$.ajax_docenten.body={
    };

    this.$.ajax_docenten.generateRequest();
  },

  ajax_docenten_handler: function(request){

    this.docenten =
    request.detail.response;
  },

  update: function() {
    this.ajax_docenten_start();
  }


})

</script>

</dom-module>
