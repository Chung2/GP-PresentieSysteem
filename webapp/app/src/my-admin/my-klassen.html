<link rel="import" href="../../elements/elements.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">

<template is="dom-repeat" items="[[klassen]]">

<!-- <h1>{{klas.naam}}</h1>
<template is="dom-repeat" items="[[klas.deStudenten]]">
  <my-student gebruikersnaam="{{item.gebruikersnaam}}">
  </my-student>
</template> -->

<dom-module id="my-klassen">
<link rel="import" type="css" href="../../styles/mainStyle.css">
  <template>

    <iron-ajax
        id="ajax_klassen"
        method="POST"
        url="/klassen/info"
        handle-as="json"
        on-response="ajax_klassen_handler">
      </iron-ajax>

    <div class="">
      <paper-card class="holder" elevation="2">
        <template is="dom-repeat" items="[[klassen]]">
          <!-- <h1>[[item.naam]]</h1> -->
          <vaadin-grid items="[[item.deStudenten]]" visible-rows="[[klas.deStudenten.length]]">
           <table>
          <vaadin-grid items="[[klassen]]">
           <table>
               <colgroup>
                 <col name="naam" resizable>
                 <col name="aantLeerling" resizable>
                 <col name="richting" resizable flex sortable sortable sort-direction="asc">
               </colgroup>
           </table>
          </vaadin-grid>

      </paper-card>
    </div>


  </template>

  <script>

      Polymer({

        is: 'my-klassen',

        ajax_klassen_start: function(){
          console.log("start");
          this.$.ajax_klassen.contentType="application/json";
          this.$.ajax_klassen.body={
          };

            this.$.ajax_klassen.generateRequest();



        },

        ajax_klassen_handler: function(request){

          this.klassen =
            request.detail.response;
            console.log(this.klassen + this.klassen.deStudenten);
            // console.log(
            //   "naam: "
            //   + this.naam);
        },

        ready: function() {
          console.log("test");
          this.ajax_klassen_start();

        }


      })


      //   function myFunction(arr) {
      //     var out = "";
      //     var i;
      //     for(i = 0; i<arr.length; i++) {
      //         out += '<a href="' + arr[i].url + '">' + arr[i].display + '</a><br>';
      //     }
      //     document.getElementById(this.klassen).innerHTML = out;
      //
      // })


  </script>

</dom-module>
