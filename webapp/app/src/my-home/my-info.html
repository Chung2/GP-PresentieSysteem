<link rel="import" href="../../elements/elements.html">

<dom-module id="my-info">
<link rel="import" type="css" href="../../styles/infoStyle.css">
  <template>
    <div class="container">
      <h2>[[klas.klasCode]]</h2>

      <paper-card class="holder" elevation="2">

        <vaadin-grid items="[[klas.deStudenten]]" visible-rows="[[klas.deStudenten.length]]">
         <table>
             <colgroup>
               <col name="voornaam" resizable>
               <col name="tussenvoegsel" resizable>
               <col name="achternaam" resizable>
               <col name="gebruikersnaam" resizable>
               <col name="studentNummer" resizable sortable sortable sort-direction="asc">
               <col>test</col>
             </colgroup>
         </table>
        </vaadin-grid>

      </paper-card>
    </div>

    <iron-ajax
      id="ajax_klas"
      method="POST"
      url="/klas/info"
      handle-as="json"
      on-response="ajax_klas_handler">
    </iron-ajax>
  </template>

  <script>

      Polymer({

        is: 'my-info',

        properties: {
          active: {
            type: Boolean,
            value: false,
            reflectToAttribute: true
          },
          klascode: {
            type: String
          },
          klas: {
            type: Object
          }
        },

        ajax_klas_start: function(){
          this.$.ajax_klas.contentType="application/json";
          this.$.ajax_klas.body={
            "klascode":this.klascode
          };
          this.$.ajax_klas.generateRequest();
        },

        ajax_klas_handler: function(request){
          this.klas = request.detail.response;
        },

        ready: function(){
          this.klascode = window.location.href.split("/").pop();
          this.ajax_klas_start();
        },

      })

  </script>

</dom-module>
